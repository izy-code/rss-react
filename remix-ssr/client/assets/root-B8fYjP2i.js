import{o as $t,p as zt,q as Lt,t as Ft,r as x,_ as Bt,v as Fe,w as Ut,x as ot,y as it,n as h,z as pe,L as Kt,A as ct,O as Wt,B as qt,C as Ht,M as Vt,D as Gt,S as Jt}from"./components-BA9AXnnu.js";import{C as D,L as ue,c as me,S as O,I as Xt,a as Yt}from"./ImageLoader-BrDaqkfh.js";/**
 * @remix-run/react v2.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */let Be="positions";function Qt({getKey:e,...t}){let{isSpaMode:n}=$t(),r=zt(),s=Lt();Ft({getKey:e,storageKey:Be});let o=x.useMemo(()=>{if(!e)return null;let c=e(r,s);return c!==r.key?c:null},[]);if(n)return null;let i=((c,l)=>{if(!window.history.state||!window.history.state.key){let d=Math.random().toString(32).slice(2);window.history.replaceState({key:d},"")}try{let a=JSON.parse(sessionStorage.getItem(c)||"{}")[l||window.history.state.key];typeof a=="number"&&window.scrollTo(0,a)}catch(d){console.error(d),sessionStorage.removeItem(c)}}).toString();return x.createElement("script",Bt({},t,{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${i})(${JSON.stringify(Be)}, ${JSON.stringify(o)})`}}))}var at={exports:{}},ut={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ne=x;function Zt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:Zt,tn=ne.useSyncExternalStore,nn=ne.useRef,rn=ne.useEffect,sn=ne.useMemo,on=ne.useDebugValue;ut.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=nn(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=sn(function(){function l(b){if(!d){if(d=!0,a=b,b=r(b),s!==void 0&&i.hasValue){var y=i.value;if(s(y,b))return f=y}return f=b}if(y=f,en(a,b))return y;var p=r(b);return s!==void 0&&s(y,p)?y:(a=b,f=p)}var d=!1,a,f,g=n===void 0?null:n;return[function(){return l(t())},g===null?void 0:function(){return l(g())}]},[t,n,r,s]);var c=tn(e,o[0],o[1]);return rn(function(){i.hasValue=!0,i.value=c},[c]),on(c),c};at.exports=ut;var cn=at.exports,N="default"in Fe?Ut:Fe,Ue=Symbol.for("react-redux-context"),Ke=typeof globalThis<"u"?globalThis:{};function an(){if(!N.createContext)return{};const e=Ke[Ue]??(Ke[Ue]=new Map);let t=e.get(N.createContext);return t||(t=N.createContext(null),e.set(N.createContext,t)),t}var L=an(),un=()=>{throw new Error("uSES not initialized!")};function Ne(e=L){return function(){return N.useContext(e)}}var lt=Ne(),ft=un,ln=e=>{ft=e},fn=(e,t)=>e===t;function dn(e=L){const t=e===L?lt:Ne(e),n=(r,s={})=>{const{equalityFn:o=fn,devModeChecks:i={}}=typeof s=="function"?{equalityFn:s}:s,{store:c,subscription:l,getServerState:d,stabilityCheck:a,identityFunctionCheck:f}=t();N.useRef(!0);const g=N.useCallback({[r.name](y){return r(y)}}[r.name],[r,a,i.stabilityCheck]),b=ft(l.addNestedSub,c.getState,d||c.getState,g,o);return N.useDebugValue(b),b};return Object.assign(n,{withTypes:()=>n}),n}var hn=dn();function yn(e){e()}function pn(){let e=null,t=null;return{clear(){e=null,t=null},notify(){yn(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var We={notify(){},get:()=>[]};function mn(e,t){let n,r=We,s=0,o=!1;function i(p){a();const u=r.subscribe(p);let m=!1;return()=>{m||(m=!0,u(),f())}}function c(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function d(){return o}function a(){s++,n||(n=e.subscribe(l),r=pn())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=We)}function g(){o||(o=!0,a())}function b(){o&&(o=!1,f())}const y={addNestedSub:i,notifyNestedSubs:c,handleChangeWrapper:l,isSubscribed:d,trySubscribe:g,tryUnsubscribe:b,getListeners:()=>r};return y}var gn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_n=typeof navigator<"u"&&navigator.product==="ReactNative",Sn=gn||_n?N.useLayoutEffect:N.useEffect;function bn({store:e,context:t,children:n,serverState:r,stabilityCheck:s="once",identityFunctionCheck:o="once"}){const i=N.useMemo(()=>{const d=mn(e);return{store:e,subscription:d,getServerState:r?()=>r:void 0,stabilityCheck:s,identityFunctionCheck:o}},[e,r,s,o]),c=N.useMemo(()=>e.getState(),[e]);Sn(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==e.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,c]);const l=t||L;return N.createElement(l.Provider,{value:i},n)}var wn=bn;function dt(e=L){const t=e===L?lt:Ne(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var vn=dt();function xn(e=L){const t=e===L?vn:dt(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var En=xn();ln(cn.useSyncExternalStoreWithSelector);const Cn="_main_a91jt_1",jn="_container_a91jt_10",Mn="_header_a91jt_26",On="_text_a91jt_30",kn="_errorDesc_a91jt_37",An="_error_a91jt_37",Nn="_refreshBtn_a91jt_49",z={main:Cn,container:jn,header:Mn,text:On,errorDesc:kn,error:An,refreshBtn:Nn};function ht({errorBoundaryMessage:e}){const t=ot(),[n,r]=x.useState(e);x.useEffect(()=>{t&&(it(t)?r(t.statusText):t instanceof Error?r(t.message):r(null))},[t]);const s=()=>{window.location.reload()};return h.jsx("main",{className:z.main,children:h.jsxs("div",{className:z.container,children:[h.jsx("h1",{className:z.header,children:"Oops!"}),h.jsx("p",{className:z.text,children:"Sorry, an unexpected error has occurred."}),n&&h.jsxs(h.Fragment,{children:[h.jsx("p",{className:z.errorDesc,children:"Error message:"}),h.jsx("p",{className:z.error,children:n})]}),h.jsx("p",{className:z.text,children:"Please try to refresh the page."}),h.jsx(D,{className:z.refreshBtn,type:"button",onClick:s,children:"Refresh the page"})]})})}class Pn extends x.Component{constructor(t){super(t),this.state={hasError:!1,errorMessage:""}}static getDerivedStateFromError(t){return{hasError:!0,errorMessage:t.message||t.toString()}}componentDidCatch(t,n){let r=`Error boundary caught error: ${t.message}`;n.componentStack&&(r+=`
Component stack: ${n.componentStack}`),console.error(r)}render(){const{hasError:t,errorMessage:n}=this.state,{children:r}=this.props;return t?h.jsx(ht,{errorBoundaryMessage:n}):r}}const yt="izy-remix-task";function qe(){const e=localStorage.getItem(yt);return e?JSON.parse(e):{}}function pt(){const e=x.useCallback(n=>qe()[n]??null,[]),t=x.useCallback((n,r)=>{let s=qe();s={...s,[n]:r},localStorage.setItem(yt,JSON.stringify(s))},[]);return{getStoredValue:e,setStoredValue:t}}const Rn="_container_18k20_1",Tn={container:Rn},In="dark-theme",mt=x.createContext({isDarkTheme:!1,toggleTheme:()=>{}});function gt({children:e}){const{getStoredValue:t,setStoredValue:n}=pt(),[r,s]=x.useState(!1);x.useEffect(()=>{s(t(ue.THEME)||!1)},[t]);const o=x.useCallback(()=>{s(c=>(n(ue.THEME,!c),!c))},[n]),i=x.useMemo(()=>({isDarkTheme:r,toggleTheme:o}),[r,o]);return h.jsx(mt.Provider,{value:i,children:h.jsx("div",{className:me(Tn.container,r?In:""),children:e})})}const Q=1,_t=En.withTypes(),St=hn.withTypes();function j(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Dn=typeof Symbol=="function"&&Symbol.observable||"@@observable",He=Dn,we=()=>Math.random().toString(36).substring(7).split("").join("."),$n={INIT:`@@redux/INIT${we()}`,REPLACE:`@@redux/REPLACE${we()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${we()}`},le=$n;function Pe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function bt(e,t,n){if(typeof e!="function")throw new Error(j(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(j(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(j(1));return n(bt)(e,t)}let r=e,s=t,o=new Map,i=o,c=0,l=!1;function d(){i===o&&(i=new Map,o.forEach((u,m)=>{i.set(m,u)}))}function a(){if(l)throw new Error(j(3));return s}function f(u){if(typeof u!="function")throw new Error(j(4));if(l)throw new Error(j(5));let m=!0;d();const w=c++;return i.set(w,u),function(){if(m){if(l)throw new Error(j(6));m=!1,d(),i.delete(w),o=null}}}function g(u){if(!Pe(u))throw new Error(j(7));if(typeof u.type>"u")throw new Error(j(8));if(typeof u.type!="string")throw new Error(j(17));if(l)throw new Error(j(9));try{l=!0,s=r(s,u)}finally{l=!1}return(o=i).forEach(w=>{w()}),u}function b(u){if(typeof u!="function")throw new Error(j(10));r=u,g({type:le.REPLACE})}function y(){const u=f;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(j(11));function w(){const S=m;S.next&&S.next(a())}return w(),{unsubscribe:u(w)}},[He](){return this}}}return g({type:le.INIT}),{dispatch:g,subscribe:f,getState:a,replaceReducer:b,[He]:y}}function zn(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:le.INIT})>"u")throw new Error(j(12));if(typeof n(void 0,{type:le.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(j(13))})}function wt(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const i=t[o];typeof e[i]=="function"&&(n[i]=e[i])}const r=Object.keys(n);let s;try{zn(n)}catch(o){s=o}return function(i={},c){if(s)throw s;let l=!1;const d={};for(let a=0;a<r.length;a++){const f=r[a],g=n[f],b=i[f],y=g(b,c);if(typeof y>"u")throw c&&c.type,new Error(j(14));d[f]=y,l=l||y!==b}return l=l||r.length!==Object.keys(i).length,l?d:i}}function fe(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Ln(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(j(15))};const i={getState:s.getState,dispatch:(l,...d)=>o(l,...d)},c=e.map(l=>l(i));return o=fe(...c)(s.dispatch),{...s,dispatch:o}}}function vt(e){return Pe(e)&&"type"in e&&typeof e.type=="string"}var xt=Symbol.for("immer-nothing"),Ve=Symbol.for("immer-draftable"),P=Symbol.for("immer-state");function T(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var H=Object.getPrototypeOf;function I(e){return!!e&&!!e[P]}function $(e){var t;return e?Et(e)||Array.isArray(e)||!!e[Ve]||!!((t=e.constructor)!=null&&t[Ve])||_e(e)||Se(e):!1}var Fn=Object.prototype.constructor.toString();function Et(e){if(!e||typeof e!="object")return!1;const t=H(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Fn}function de(e,t){ge(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function ge(e){const t=e[P];return t?t.type_:Array.isArray(e)?1:_e(e)?2:Se(e)?3:0}function Ce(e,t){return ge(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ct(e,t,n){const r=ge(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Bn(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function _e(e){return e instanceof Map}function Se(e){return e instanceof Set}function B(e){return e.copy_||e.base_}function je(e,t){if(_e(e))return new Map(e);if(Se(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Et(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[P];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const i=s[o],c=r[i];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[i]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[i]})}return Object.create(H(e),r)}else{const r=H(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function Re(e,t=!1){return be(e)||I(e)||!$(e)||(ge(e)>1&&(e.set=e.add=e.clear=e.delete=Un),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Re(r,!0))),e}function Un(){T(2)}function be(e){return Object.isFrozen(e)}var Kn={};function K(e){const t=Kn[e];return t||T(0,e),t}var ee;function jt(){return ee}function Wn(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ge(e,t){t&&(K("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Me(e){Oe(e),e.drafts_.forEach(qn),e.drafts_=null}function Oe(e){e===ee&&(ee=e.parent_)}function Je(e){return ee=Wn(ee,e)}function qn(e){const t=e[P];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Xe(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[P].modified_&&(Me(t),T(4)),$(e)&&(e=he(t,e),t.parent_||ye(t,e)),t.patches_&&K("Patches").generateReplacementPatches_(n[P].base_,e,t.patches_,t.inversePatches_)):e=he(t,n,[]),Me(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xt?e:void 0}function he(e,t,n){if(be(t))return t;const r=t[P];if(!r)return de(t,(s,o)=>Ye(e,r,t,s,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return ye(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let o=s,i=!1;r.type_===3&&(o=new Set(s),s.clear(),i=!0),de(o,(c,l)=>Ye(e,r,s,c,l,n,i)),ye(e,s,!1),n&&e.patches_&&K("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Ye(e,t,n,r,s,o,i){if(I(s)){const c=o&&t&&t.type_!==3&&!Ce(t.assigned_,r)?o.concat(r):void 0,l=he(e,s,c);if(Ct(n,r,l),I(l))e.canAutoFreeze_=!1;else return}else i&&n.add(s);if($(s)&&!be(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;he(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&ye(e,s)}}function ye(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Re(t,n)}function Hn(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:jt(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=Te;n&&(s=[r],o=te);const{revoke:i,proxy:c}=Proxy.revocable(s,o);return r.draft_=c,r.revoke_=i,c}var Te={get(e,t){if(t===P)return e;const n=B(e);if(!Ce(n,t))return Vn(e,n,t);const r=n[t];return e.finalized_||!$(r)?r:r===ve(e.base_,t)?(xe(e),e.copy_[t]=Ae(r,e)):r},has(e,t){return t in B(e)},ownKeys(e){return Reflect.ownKeys(B(e))},set(e,t,n){const r=Mt(B(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=ve(B(e),t),o=s==null?void 0:s[P];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Bn(n,s)&&(n!==void 0||Ce(e.base_,t)))return!0;xe(e),ke(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ve(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,xe(e),ke(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=B(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){T(11)},getPrototypeOf(e){return H(e.base_)},setPrototypeOf(){T(12)}},te={};de(Te,(e,t)=>{te[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});te.deleteProperty=function(e,t){return te.set.call(this,e,t,void 0)};te.set=function(e,t,n){return Te.set.call(this,e[0],t,n,e[0])};function ve(e,t){const n=e[P];return(n?B(n):e)[t]}function Vn(e,t,n){var s;const r=Mt(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function Mt(e,t){if(!(t in e))return;let n=H(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=H(n)}}function ke(e){e.modified_||(e.modified_=!0,e.parent_&&ke(e.parent_))}function xe(e){e.copy_||(e.copy_=je(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Gn=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const i=this;return function(l=o,...d){return i.produce(l,a=>n.call(this,a,...d))}}typeof n!="function"&&T(6),r!==void 0&&typeof r!="function"&&T(7);let s;if($(t)){const o=Je(this),i=Ae(t,void 0);let c=!0;try{s=n(i),c=!1}finally{c?Me(o):Oe(o)}return Ge(o,r),Xe(s,o)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===xt&&(s=void 0),this.autoFreeze_&&Re(s,!0),r){const o=[],i=[];K("Patches").generateReplacementPatches_(t,s,o,i),r(o,i)}return s}else T(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...c)=>this.produceWithPatches(i,l=>t(l,...c));let r,s;return[this.produce(t,n,(i,c)=>{r=i,s=c}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){$(e)||T(8),I(e)&&(e=Ie(e));const t=Je(this),n=Ae(e,void 0);return n[P].isManual_=!0,Oe(t),n}finishDraft(e,t){const n=e&&e[P];(!n||!n.isManual_)&&T(9);const{scope_:r}=n;return Ge(r,t),Xe(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=K("Patches").applyPatches_;return I(e)?r(e,t):this.produce(e,s=>r(s,t))}};function Ae(e,t){const n=_e(e)?K("MapSet").proxyMap_(e,t):Se(e)?K("MapSet").proxySet_(e,t):Hn(e,t);return(t?t.scope_:jt()).drafts_.push(n),n}function Ie(e){return I(e)||T(10,e),Ot(e)}function Ot(e){if(!$(e)||be(e))return e;const t=e[P];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=je(e,t.scope_.immer_.useStrictShallowCopy_)}else n=je(e,!0);return de(n,(r,s)=>{Ct(n,r,Ot(s))}),t&&(t.finalized_=!1),n}var R=new Gn,De=R.produce;R.produceWithPatches.bind(R);R.setAutoFreeze.bind(R);R.setUseStrictShallowCopy.bind(R);R.applyPatches.bind(R);R.createDraft.bind(R);R.finishDraft.bind(R);function Jn(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Xn(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Yn(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Qe=e=>Array.isArray(e)?e:[e];function Qn(e){const t=Array.isArray(e[0])?e[0]:e;return Yn(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Zn(e,t){const n=[],{length:r}=e;for(let s=0;s<r;s++)n.push(e[s].apply(null,t));return n}var er=class{constructor(e){this.value=e}deref(){return this.value}},tr=typeof WeakRef<"u"?WeakRef:er,nr=0,Ze=1;function se(){return{s:nr,v:void 0,o:null,p:null}}function $e(e,t={}){let n=se();const{resultEqualityCheck:r}=t;let s,o=0;function i(){var f;let c=n;const{length:l}=arguments;for(let g=0,b=l;g<b;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let p=c.o;p===null&&(c.o=p=new WeakMap);const u=p.get(y);u===void 0?(c=se(),p.set(y,c)):c=u}else{let p=c.p;p===null&&(c.p=p=new Map);const u=p.get(y);u===void 0?(c=se(),p.set(y,c)):c=u}}const d=c;let a;if(c.s===Ze)a=c.v;else if(a=e.apply(null,arguments),o++,r){const g=((f=s==null?void 0:s.deref)==null?void 0:f.call(s))??s;g!=null&&r(g,a)&&(a=g,o!==0&&o--),s=typeof a=="object"&&a!==null||typeof a=="function"?new tr(a):a}return d.s=Ze,d.v=a,a}return i.clearCache=()=>{n=se(),i.resetResultsCount()},i.resultsCount=()=>o,i.resetResultsCount=()=>{o=0},i}function kt(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let o=0,i=0,c,l={},d=s.pop();typeof d=="object"&&(l=d,d=s.pop()),Jn(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const a={...n,...l},{memoize:f,memoizeOptions:g=[],argsMemoize:b=$e,argsMemoizeOptions:y=[],devModeChecks:p={}}=a,u=Qe(g),m=Qe(y),w=Qn(s),_=f(function(){return o++,d.apply(null,arguments)},...u),S=b(function(){i++;const M=Zn(w,arguments);return c=_.apply(null,M),c},...m);return Object.assign(S,{resultFunc:d,memoizedResultFunc:_,dependencies:w,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:f,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var rr=kt($e),sr=Object.assign((e,t=rr)=>{Xn(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((i,c,l)=>(i[n[l]]=c,i),{}))},{withTypes:()=>sr});function At(e){return({dispatch:n,getState:r})=>s=>o=>typeof o=="function"?o(n,r,e):s(o)}var or=At(),ir=At,cr=(...e)=>{const t=kt(...e),n=Object.assign((...r)=>{const s=t(...r),o=(i,...c)=>s(I(i)?Ie(i):i,...c);return Object.assign(o,s),o},{withTypes:()=>n});return n},ar=cr($e),ur=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?fe:fe.apply(null,arguments)};function V(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(A(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>vt(r)&&r.type===e,n}function lr(e){return vt(e)&&Object.keys(e).every(fr)}function fr(e){return["type","payload","error","meta"].indexOf(e)>-1}var Nt=class Y extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Y.prototype)}static get[Symbol.species](){return Y}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Y(...t[0].concat(this)):new Y(...t.concat(this))}};function et(e){return $(e)?De(e,()=>{}):e}function tt(e,t,n){if(e.has(t)){let s=e.get(t);return n.update&&(s=n.update(s,t,e),e.set(t,s)),s}if(!n.insert)throw new Error(A(10));const r=n.insert(t,e);return e.set(t,r),r}function dr(e){return typeof e=="boolean"}var hr=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=t??{};let i=new Nt;return n&&(dr(n)?i.push(or):i.push(ir(n.extraArgument))),i},yr="RTK_autoBatch",Pt=e=>t=>{setTimeout(t,e)},pr=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Pt(10),mr=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,o=!1,i=!1;const c=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?pr:e.type==="callback"?e.queueNotification:Pt(e.timeout),d=()=>{i=!1,o&&(o=!1,c.forEach(a=>a()))};return Object.assign({},r,{subscribe(a){const f=()=>s&&a(),g=r.subscribe(f);return c.add(a),()=>{g(),c.delete(a)}},dispatch(a){var f;try{return s=!((f=a==null?void 0:a.meta)!=null&&f[yr]),o=!s,o&&(i||(i=!0,l(d))),r.dispatch(a)}finally{s=!0}}})},gr=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new Nt(e);return r&&s.push(mr(typeof r=="object"?r:void 0)),s},_r=!0;function Sr(e){const t=hr(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:o=void 0,enhancers:i=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(Pe(n))c=wt(n);else throw new Error(A(1));let l;typeof r=="function"?l=r(t):l=t();let d=fe;s&&(d=ur({trace:!_r,...typeof s=="object"&&s}));const a=Ln(...l),f=gr(a);let g=typeof i=="function"?i(f):f();const b=d(...g);return bt(c,o,b)}function Rt(e){const t={},n=[];let r;const s={addCase(o,i){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(A(28));if(c in t)throw new Error(A(29));return t[c]=i,s},addMatcher(o,i){return n.push({matcher:o,reducer:i}),s},addDefaultCase(o){return r=o,s}};return e(s),[t,n,r]}function br(e){return typeof e=="function"}function wr(e,t){let[n,r,s]=Rt(t),o;if(br(e))o=()=>et(e());else{const c=et(e);o=()=>c}function i(c=o(),l){let d=[n[l.type],...r.filter(({matcher:a})=>a(l)).map(({reducer:a})=>a)];return d.filter(a=>!!a).length===0&&(d=[s]),d.reduce((a,f)=>{if(f)if(I(a)){const b=f(a,l);return b===void 0?a:b}else{if($(a))return De(a,g=>f(g,l));{const g=f(a,l);if(g===void 0){if(a===null)return a;throw new Error(A(9))}return g}}return a},c)}return i.getInitialState=o,i}var vr="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xr=(e=21)=>{let t="",n=e;for(;n--;)t+=vr[Math.random()*64|0];return t},Er=Symbol.for("rtk-slice-createasyncthunk");function Cr(e,t){return`${e}/${t}`}function jr({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Er];return function(s){const{name:o,reducerPath:i=o}=s;if(!o)throw new Error(A(11));typeof process<"u";const c=(typeof s.reducers=="function"?s.reducers(kr()):s.reducers)||{},l=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(_,S){const v=typeof _=="string"?_:_.type;if(!v)throw new Error(A(12));if(v in d.sliceCaseReducersByType)throw new Error(A(13));return d.sliceCaseReducersByType[v]=S,a},addMatcher(_,S){return d.sliceMatchers.push({matcher:_,reducer:S}),a},exposeAction(_,S){return d.actionCreators[_]=S,a},exposeCaseReducer(_,S){return d.sliceCaseReducersByName[_]=S,a}};l.forEach(_=>{const S=c[_],v={reducerName:_,type:Cr(o,_),createNotation:typeof s.reducers=="function"};Nr(S)?Rr(v,S,a,t):Ar(v,S,a)});function f(){const[_={},S=[],v=void 0]=typeof s.extraReducers=="function"?Rt(s.extraReducers):[s.extraReducers],M={..._,...d.sliceCaseReducersByType};return wr(s.initialState,k=>{for(let E in M)k.addCase(E,M[E]);for(let E of d.sliceMatchers)k.addMatcher(E.matcher,E.reducer);for(let E of S)k.addMatcher(E.matcher,E.reducer);v&&k.addDefaultCase(v)})}const g=_=>_,b=new Map;let y;function p(_,S){return y||(y=f()),y(_,S)}function u(){return y||(y=f()),y.getInitialState()}function m(_,S=!1){function v(k){let E=k[_];return typeof E>"u"&&S&&(E=u()),E}function M(k=g){const E=tt(b,S,{insert:()=>new WeakMap});return tt(E,k,{insert:()=>{const G={};for(const[re,F]of Object.entries(s.selectors??{}))G[re]=Mr(F,k,u,S);return G}})}return{reducerPath:_,getSelectors:M,get selectors(){return M(v)},selectSlice:v}}const w={name:o,reducer:p,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:u,...m(i),injectInto(_,{reducerPath:S,...v}={}){const M=S??i;return _.inject({reducerPath:M,reducer:p},v),{...w,...m(M,!0)}}};return w}}function Mr(e,t,n,r){function s(o,...i){let c=t(o);return typeof c>"u"&&r&&(c=n()),e(c,...i)}return s.unwrapped=e,s}var Or=jr();function kr(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Ar({type:e,reducerName:t,createNotation:n},r,s){let o,i;if("reducer"in r){if(n&&!Pr(r))throw new Error(A(17));o=r.reducer,i=r.prepare}else o=r;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,i?V(e,i):V(e))}function Nr(e){return e._reducerDefinitionType==="asyncThunk"}function Pr(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Rr({type:e,reducerName:t},n,r,s){if(!s)throw new Error(A(18));const{payloadCreator:o,fulfilled:i,pending:c,rejected:l,settled:d,options:a}=n,f=s(e,o,a);r.exposeAction(t,f),i&&r.addCase(f.fulfilled,i),c&&r.addCase(f.pending,c),l&&r.addCase(f.rejected,l),d&&r.addMatcher(f.settled,d),r.exposeCaseReducer(t,{fulfilled:i||oe,pending:c||oe,rejected:l||oe,settled:d||oe})}function oe(){}function Tr(){return{ids:[],entities:{}}}function Ir(e){function t(n={},r){const s=Object.assign(Tr(),n);return r?e.setAll(s,r):s}return{getInitialState:t}}function Dr(){function e(t,n={}){const{createSelector:r=ar}=n,s=f=>f.ids,o=f=>f.entities,i=r(s,o,(f,g)=>f.map(b=>g[b])),c=(f,g)=>g,l=(f,g)=>f[g],d=r(s,f=>f.length);if(!t)return{selectIds:s,selectEntities:o,selectAll:i,selectTotal:d,selectById:r(o,c,l)};const a=r(t,o);return{selectIds:r(t,s),selectEntities:a,selectAll:r(t,i),selectTotal:r(t,d),selectById:r(a,c,l)}}return{getSelectors:e}}var $r=I;function zr(e){const t=C((n,r)=>e(r));return function(r){return t(r,void 0)}}function C(e){return function(n,r){function s(i){return lr(i)}const o=i=>{s(r)?e(r.payload,i):e(r,i)};return $r(n)?(o(n),n):De(n,o)}}function q(e,t){return t(e)}function U(e){return Array.isArray(e)||(e=Object.values(e)),e}function ae(e){return I(e)?Ie(e):e}function Tt(e,t,n){e=U(e);const r=ae(n.ids),s=new Set(r),o=[],i=[];for(const c of e){const l=q(c,t);s.has(l)?i.push({id:l,changes:c}):o.push(c)}return[o,i,r]}function It(e){function t(y,p){const u=q(y,e);u in p.entities||(p.ids.push(u),p.entities[u]=y)}function n(y,p){y=U(y);for(const u of y)t(u,p)}function r(y,p){const u=q(y,e);u in p.entities||p.ids.push(u),p.entities[u]=y}function s(y,p){y=U(y);for(const u of y)r(u,p)}function o(y,p){y=U(y),p.ids=[],p.entities={},n(y,p)}function i(y,p){return c([y],p)}function c(y,p){let u=!1;y.forEach(m=>{m in p.entities&&(delete p.entities[m],u=!0)}),u&&(p.ids=p.ids.filter(m=>m in p.entities))}function l(y){Object.assign(y,{ids:[],entities:{}})}function d(y,p,u){const m=u.entities[p.id];if(m===void 0)return!1;const w=Object.assign({},m,p.changes),_=q(w,e),S=_!==p.id;return S&&(y[p.id]=_,delete u.entities[p.id]),u.entities[_]=w,S}function a(y,p){return f([y],p)}function f(y,p){const u={},m={};y.forEach(_=>{var S;_.id in p.entities&&(m[_.id]={id:_.id,changes:{...(S=m[_.id])==null?void 0:S.changes,..._.changes}})}),y=Object.values(m),y.length>0&&y.filter(S=>d(u,S,p)).length>0&&(p.ids=Object.values(p.entities).map(S=>q(S,e)))}function g(y,p){return b([y],p)}function b(y,p){const[u,m]=Tt(y,e,p);f(m,p),n(u,p)}return{removeAll:zr(l),addOne:C(t),addMany:C(n),setOne:C(r),setMany:C(s),setAll:C(o),updateOne:C(a),updateMany:C(f),upsertOne:C(g),upsertMany:C(b),removeOne:C(i),removeMany:C(c)}}function Lr(e,t,n){let r=0,s=e.length;for(;r<s;){let o=r+s>>>1;const i=e[o];n(t,i)>=0?r=o+1:s=o}return r}function Fr(e,t,n){const r=Lr(e,t,n);return e.splice(r,0,t),e}function Br(e,t){const{removeOne:n,removeMany:r,removeAll:s}=It(e);function o(u,m){return i([u],m)}function i(u,m,w){u=U(u);const _=new Set(w??ae(m.ids)),S=u.filter(v=>!_.has(q(v,e)));S.length!==0&&p(m,S)}function c(u,m){return l([u],m)}function l(u,m){if(u=U(u),u.length!==0){for(const w of u)delete m.entities[e(w)];p(m,u)}}function d(u,m){u=U(u),m.entities={},m.ids=[],i(u,m,[])}function a(u,m){return f([u],m)}function f(u,m){let w=!1,_=!1;for(let S of u){const v=m.entities[S.id];if(!v)continue;w=!0,Object.assign(v,S.changes);const M=e(v);if(S.id!==M){_=!0,delete m.entities[S.id];const k=m.ids.indexOf(S.id);m.ids[k]=M,m.entities[M]=v}}w&&p(m,[],w,_)}function g(u,m){return b([u],m)}function b(u,m){const[w,_,S]=Tt(u,e,m);_.length&&f(_,m),w.length&&i(w,m,S)}function y(u,m){if(u.length!==m.length)return!1;for(let w=0;w<u.length;w++)if(u[w]!==m[w])return!1;return!0}const p=(u,m,w,_)=>{const S=ae(u.entities),v=ae(u.ids),M=u.entities;let k=v;_&&(k=new Set(v));let E=[];for(const F of k){const Le=S[F];Le&&E.push(Le)}const G=E.length===0;for(const F of m)M[e(F)]=F,G||Fr(E,F,t);G?E=m.slice().sort(t):w&&E.sort(t);const re=E.map(e);y(v,re)||(u.ids=re)};return{removeOne:n,removeMany:r,removeAll:s,addOne:C(o),updateOne:C(a),upsertOne:C(g),setOne:C(c),setMany:C(l),setAll:C(d),addMany:C(i),updateMany:C(f),upsertMany:C(b)}}function Ur(e={}){const{selectId:t,sortComparer:n}={sortComparer:!1,selectId:i=>i.id,...e},r=n?Br(t,n):It(t),s=Ir(r),o=Dr();return{selectId:t,sortComparer:n,...s,...o,...r}}var Kr=(e,t)=>{if(typeof e!="function")throw new Error(A(32))},ze="listenerMiddleware",Wr=e=>{let{type:t,actionCreator:n,matcher:r,predicate:s,effect:o}=e;if(t)s=V(t).match;else if(n)t=n.type,s=n.match;else if(r)s=r;else if(!s)throw new Error(A(21));return Kr(o),{predicate:s,type:t,effect:o}},qr=Object.assign(e=>{const{type:t,predicate:n,effect:r}=Wr(e);return{id:xr(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(A(22))}}},{withTypes:()=>qr}),Hr=Object.assign(V(`${ze}/add`),{withTypes:()=>Hr});V(`${ze}/removeAll`);var Vr=Object.assign(V(`${ze}/remove`),{withTypes:()=>Vr});function A(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Z=Ur(),Gr=Z.getInitialState(),Dt=Or({name:"favoriteItems",initialState:Gr,reducers:{selectItem:(e,t)=>{Z.addOne(e,t)},unselectItem:(e,t)=>{Z.removeOne(e,t)},unselectAll:e=>{Z.removeAll(e)}}}),{selectItem:Jr,unselectItem:Xr,unselectAll:Yr}=Dt.actions,{selectAll:Qr,selectById:Zr}=Z.getSelectors(e=>e.favoriteItems),es="_card_1dbzq_1",ts="_title_1dbzq_6",ns="_link_1dbzq_16",rs="_active_1dbzq_32",ss="_content_1dbzq_49",os="_checkbox_1dbzq_57",W={card:es,title:ts,link:ns,active:rs,content:ss,checkbox:os};function is({character:e}){const[t]=pe(),n=_t(),r=St(c=>Zr(c,e.id)),s=t.get(O.DETAILS)===e.id.toString(),o=()=>{const c=new URLSearchParams(t);return c.set(O.DETAILS,e.id.toString()),`?${c.toString()}`},i=c=>{c.target.checked?n(Jr(e)):n(Xr(e.id))};return h.jsx("li",{className:W.card,children:h.jsxs(Kt,{className:me(s?W.active:"",W.link),to:o(),children:[h.jsx(Xt,{imageSrc:e.image,imageAlt:e.name}),h.jsxs("div",{className:W.content,children:[h.jsx("h2",{className:W.title,children:e.name}),h.jsx("input",{className:W.checkbox,type:"checkbox",checked:!!r,onChange:i,onClick:c=>c.stopPropagation()})]})]})})}const cs=e=>{if(e.length===0||!e[0])return"";const t=(c,l="",d={})=>(Object.entries(c).forEach(([a,f])=>{const g=l?`${l}.${a}`:a;if(a==="episode"&&typeof f=="object"){const b=Object.values(f);d[g]=b.join(", ")}else typeof f=="object"&&f!==null&&!Array.isArray(f)?t(f,g,d):d[g]=String(f)}),d),r=[Object.keys(t(e[0]))];e.forEach(c=>{const l=t(c);r.push(Object.values(l))});let s="";r.forEach(c=>{s+=`${c.join(";")}
`});const o=new Uint8Array([239,187,191]),i=new Blob([o,s],{type:"text/csv;charset=utf-8"});return URL.createObjectURL(i)},as="_flyout_1liof_1",us="_show_1liof_20",ls="_counter_1liof_24",fs="_buttonsContainer_1liof_32",ds="_link_1liof_37",J={flyout:as,show:us,counter:ls,buttonsContainer:fs,link:ds};function hs(){const e=_t(),t=St(Qr),n=t.length,r=n>0,s=()=>{e(Yr())};return h.jsxs("div",{className:me(J.flyout,r&&J.show),"aria-hidden":!r,children:[h.jsxs("p",{className:J.counter,children:["Items selected: ",n]}),h.jsxs("div",{className:J.buttonsContainer,children:[h.jsx(D,{variant:"cancel",onClick:s,children:"Unselect all"}),h.jsx("a",{className:J.link,href:r?cs(t):"#",download:`${n}_characters.csv`,children:"Download"})]})]})}const ys="_container_1wyjh_1",ps="_button_1wyjh_10",ms="_text_1wyjh_14",ie={container:ys,button:ps,text:ms};function gs({pageInfo:e}){const[t,n]=pe(),r=Number(t.get(O.PAGE))||Q,s=o=>{t.set(O.PAGE,o.toString()),n(t)};return x.useEffect(()=>{(!Number.isInteger(r)||r<Q)&&(t.set(O.PAGE,Q.toString()),n(t))},[r,t,n]),h.jsxs("div",{className:ie.container,children:[h.jsx(D,{className:ie.button,onClick:()=>s(r-1),disabled:r===1,children:"Prev"}),h.jsx("p",{className:ie.text,children:`Page ${r} of ${e.pages}`}),h.jsx(D,{className:ie.button,onClick:()=>s(r+1),disabled:r===e.pages,children:"Next"})]})}const _s="_list_d0rqj_1",Ss="_message_d0rqj_12",Ee={list:_s,message:Ss},bs=x.forwardRef(function({characters:t},n){let r=null;return t.status==="error"?r=h.jsx("div",{className:Ee.message,children:"Characters list fetching problem"}):t.status==="empty"||!t.data?r=h.jsx("div",{className:Ee.message,children:"No characters found"}):r=h.jsxs(h.Fragment,{children:[h.jsx(gs,{pageInfo:t.data.info}),h.jsx("ul",{className:Ee.list,ref:n,children:t.data.results.map(s=>h.jsx(is,{character:s},s.id))}),h.jsx(hs,{})]}),r});function ws(){const[e,t]=x.useState(!1),n=()=>{t(!0)};if(e)throw new Error("Error throwing button was clicked");return h.jsx(D,{type:"button",variant:"cancel",onClick:n,children:"Throw error"})}const vs="_header_ni8wd_1",xs="_container_ni8wd_8",nt={header:vs,container:xs};function Es({children:e}){return h.jsx("header",{className:nt.header,children:h.jsxs("div",{className:nt.container,children:[h.jsx("h1",{className:"visually-hidden",children:"Rick and Morty characters"}),e]})})}const Cs="_form_gtgis_1",js="_input_gtgis_6",rt={form:Cs,input:js};function Ms(){const{getStoredValue:e,setStoredValue:t}=pt(),[n,r]=x.useState(""),[s,o]=pe(),i=x.useRef(null),l=ct().state==="loading",d=x.useCallback(f=>{t(ue.SEARCH,f),r(f)},[t]);x.useEffect(()=>{r(e(ue.SEARCH)||"")},[e]),x.useEffect(()=>{const f=s.get(O.NAME)??"";n&&s.size===0?(i.current.value=n,s.set(O.NAME,n),o(s)):n!==f&&s.size>0&&(d(f),i.current.value=f)},[n,s,o,d]),x.useEffect(()=>{var f;l||(f=i.current)==null||f.focus()},[l]);function a(f){var b;f.preventDefault();const g=((b=i.current)==null?void 0:b.value.trim())??"";d(g),s.set(O.PAGE,Q.toString()),g?s.set(O.NAME,g):s.delete(O.NAME),o(s)}return h.jsxs("form",{className:rt.form,onSubmit:a,children:[h.jsx("input",{ref:i,className:rt.input,type:"search",placeholder:"Enter character name…",defaultValue:n,disabled:l,autoComplete:"off"}),h.jsx(D,{type:"submit",variant:"secondary",disabled:l,children:"Search"})]})}const Os="_button_i7s2h_1",ks="_dark_i7s2h_19",st={button:Os,dark:ks};function As(){const{isDarkTheme:e,toggleTheme:t}=x.useContext(mt);return h.jsx(D,{className:me(st.button,st[e?"dark":""]),variant:"secondary",onClick:t,children:h.jsx("span",{className:"visually-hidden",children:e?"Switch to light theme":"Switch to dark theme"})})}const Ns="_page_v0r2u_1",Ps="_main_v0r2u_10",Rs="_listSection_v0r2u_24",Ts="_detailsSection_v0r2u_41",ce={page:Ns,main:Ps,listSection:Rs,detailsSection:Ts};function Is({characters:e}){const[t,n]=pe(),r=ct(),s=x.useRef(null),o=x.useRef(null),i=x.useRef(null),c=t.get(O.NAME)||"",l=(Number(t.get(O.PAGE))||Q).toString(),d=t.get(O.DETAILS);let a=!1;if(r.location){const g=new URLSearchParams(r.location.search),b=g.get(O.PAGE),y=g.get(O.NAME)||"";a=l!==b||y!==c}const f=g=>{const b=g.target===s.current||g.target===o.current||g.target===i.current;d&&b&&(t.delete(O.DETAILS),n(t))};return h.jsxs("div",{className:ce.page,children:[h.jsxs(Es,{children:[h.jsx(Ms,{}),h.jsx(ws,{}),h.jsx(As,{})]}),h.jsxs("main",{className:ce.main,onClick:f,ref:s,children:[h.jsx("section",{className:ce.listSection,ref:o,children:a?h.jsx(Yt,{}):h.jsx(bs,{characters:e,ref:i})}),d&&h.jsx("section",{className:ce.detailsSection,children:h.jsx(Wt,{})})]})]})}const Ds="_main_rgx4l_1",$s="_container_rgx4l_10",zs="_title_rgx4l_24",Ls="_text_rgx4l_35",Fs="_buttons_rgx4l_39",X={main:Ds,container:$s,title:zs,text:Ls,buttons:Fs};function Bs(){const e=qt();return h.jsx("main",{className:X.main,children:h.jsxs("div",{className:X.container,children:[h.jsx("h1",{className:X.title,children:"404"}),h.jsx("p",{className:X.text,children:"The page you requested was not found."}),h.jsxs("div",{className:X.buttons,children:[h.jsx(D,{variant:"tertiary",onClick:()=>e(-1),children:"Previous page"}),h.jsx(D,{variant:"tertiary",onClick:()=>{const t=`${window.location.protocol}//${window.location.host}`;window.location.href=t},children:"Last stored search"})]})]})})}const Us=wt({favoriteItems:Dt.reducer});function Ks(e){return Sr({reducer:Us,preloadedState:e})}const Ws=Ks();function Vs({children:e}){return h.jsxs("html",{lang:"en",children:[h.jsxs("head",{children:[h.jsx("meta",{charSet:"utf-8"}),h.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),h.jsx("link",{rel:"icon",type:"image/svg+xml",href:"/rick-favicon.svg"}),h.jsx("title",{children:"Rick and Morty characters"}),h.jsx(Vt,{}),h.jsx(Gt,{})]}),h.jsxs("body",{className:"root",children:[e,h.jsx(Qt,{}),h.jsx(Jt,{})]})]})}function Gs(){const e=Ht();return h.jsx(gt,{children:h.jsx(Pn,{children:h.jsx(wn,{store:Ws,children:h.jsx(Is,{characters:e})})})})}function Js(){const e=ot();return it(e)?h.jsx(gt,{children:h.jsx(Bs,{})}):(console.error("Error boundary caught error: ",e),h.jsx(ht,{errorBoundaryMessage:null}))}export{Js as ErrorBoundary,Vs as Layout,Gs as default};
